Модул за търсене в сайта
========================

На страница, в която е вмъкнат елемент:

<!--$$_SITESEARCH_$$-->

се показва форма за терсене.

При написване на букви в полето за писане веднага се показва прозорец с линкове към намерени връзки и страници от сайта, в заглавията на които се среща написаната поредица букви.

Щракването върху произволно място извън показваните линкове в този прозорец го скрива.

За извършване на търсене и в текстовете на страници се щраква бутона с икона на лупа, намиращ се след полето за писане.

Резултатът от търсенето се показва на страница, в която е вмъкнат елемент <!--$$_SITESEARCH_result_$$-->.

След търсете при отваряне на друга страница, ако върху тази страница се срещат търсените думи, те се заграждат с тагове <span class="searched"></span>. Заграждането се извършва от скрипта index.php на системата. Това позволява чрез задаване на стил на този клас да се оцветяват търсените думи.

За изключване открояването на потърсените думи, се щраква бутон "Почистване" на формата за търсене. Този бутон е видим само ако са запомнени думи от последно търсене.

В таблица: $tn_prefix.'options' трябва да се добавят следните настройки:

sitesearch_resultpage - адрес на страницата за показване на резултата, която съдържа <!--$$_SITESEARCH_result_$$-->.

sitesearch_restr - добавка към WHERE частта на SQL заявката за търсене в таблица $tn_prefix.'pages', която цели да изключи някои страници от показване в резултата от търсене, например, да не се показват страници от административната част на сайта. Добавката няма ефект в режим на администриране или редактиране на сайта.

sitesearch_stat - трябва да има стойност, различна от 0 или празен стринг, за да се запазват думите, по които е правено търсене в таблица $tn_prefix.'sitesearch_words'.

sitesearch_nocoleron - дефиниция на масив $nocolor = array(1,2,...); в който 1,2,... са номерата на страници, в които не трябва да се оцветяват търсените думи. В този масив може да се посочат, например: страницата, в която се показва резултатът от търсене, страници с форми за попълване и др.
